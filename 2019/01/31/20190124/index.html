<!DOCTYPE html>
<html lang="en">

<head><meta name="generator" content="Hexo 3.8.0">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		H5 视频播放 video使用总结 | 
	 
	重剑无锋 大巧不工
	</title>
	
	<!-- keywords,description -->
	
	

	<!-- favicon -->
	
	<link rel="shortcut icon" href="../../../../favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	<link rel="stylesheet" href="../../../../css/main.css">
	<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

	<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.0/dist/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
	<script src="../../../../js/main.js"></script>

	
		<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/valine@v1.5.1/dist/Valine.min.js"></script>
	
	

</head>

<body>
	<header id="header">
    <a id="title" href="../../../../index.html" class="logo">重剑无锋 大巧不工</a>

	<ul id="menu">
    
      <li class="menu-item">
        <a href="/about" class="menu-item-link">关于</a>
      </li>
    

    

    

    
  
    
      <li class="menu-item">
        <a href="https://github.com/w51fan" class="menu-item-link" target="_blank">
          <i class="fa fa-github fa-2x"></i>
        </a>
      </li>
    
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle"><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="按回车全站搜索">
		<div id="tree">
			

			
							<ul>
								<li class="file active">
									<a href="">
                     
										    H5 视频播放 video使用总结
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="../../25/20190125/">
                     
										    解决hexo Page build failed
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="../../26/20190126/">
                     
										    20190126
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="../../25/hexo使用本地图片/">
                     
										    hexo使用本地图片
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="../小程序二维码传递参数/">
                     
										    小程序二维码传递参数
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="../../../../2024/04/02/小程序使用本地图片/">
                     
										    小程序使用本地图片
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="../搭建githubPage博客/">
                     
										    搭建githubPage博客
                     
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content" class="content">
		<h1 id="article-title">
	H5 视频播放 video使用总结
</h1>

<!-- meta -->
<div class="article-meta">
	

	<span>51fan</span>
	<span>2019-01-31 10:36:21</span>

  <div id="article-categories">
    
		  <span>Categories：</span>
      
    

    
		    <span>Tags：</span>
        
    
  </div>

</div>

<!-- content -->
<div id="article-content">
	<p>最近用vue在做一个H5页面，有一个播放视频的功能，做完了总结一下</p>
<h2 id="关于video的用法，详细原文，大家可以点这里"><a href="#关于video的用法，详细原文，大家可以点这里" class="headerlink" title="关于video的用法，详细原文，大家可以点这里"></a>关于video的用法，详细原文，大家可以点这里</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video" target="_blank" rel="noopener">指南</a></p>
<h3 id="1、如果你只是单纯的想在页面播放一个视频，下面的代码已经足够了，还支持ios和Android小窗播放"><a href="#1、如果你只是单纯的想在页面播放一个视频，下面的代码已经足够了，还支持ios和Android小窗播放" class="headerlink" title="1、如果你只是单纯的想在页面播放一个视频，下面的代码已经足够了，还支持ios和Android小窗播放"></a>1、如果你只是单纯的想在页面播放一个视频，下面的代码已经足够了，还支持ios和Android小窗播放</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;video class=&quot;video&quot; controls&gt;</span><br><span class="line">    &lt;source src=&quot;../company.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class="line">&lt;/video&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2019/01/31/20190124/1.png" alt="Alt text"></p>
<h3 id="2、但是实际需求不会这么简单，老板还希望在H5上有个表单提交的功能，没问题，在下面加就是，表格出来了"><a href="#2、但是实际需求不会这么简单，老板还希望在H5上有个表单提交的功能，没问题，在下面加就是，表格出来了" class="headerlink" title="2、但是实际需求不会这么简单，老板还希望在H5上有个表单提交的功能，没问题，在下面加就是，表格出来了"></a>2、但是实际需求不会这么简单，老板还希望在H5上有个表单提交的功能，没问题，在下面加就是，表格出来了</h3><p><img src="/2019/01/31/20190124/2.png" alt="Alt text"></p>
<p>但是我点了视频播放，然后再提交表单，在Android懵逼了</p>
<p><img src="/2019/01/31/20190124/3.png" alt="Alt text"></p>
<p>视频把表单挡住了，ios是没有这个问题的，这怎么搞呀</p>
<p>我的解决办法是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;video</span><br><span class="line">  playsinline=&quot;true&quot;</span><br><span class="line">  x-webkit-airplay=&quot;true&quot; </span><br><span class="line">  x5-playsinline=&quot;true&quot;</span><br><span class="line">  webkit-playsinline=&quot;true&quot; </span><br><span class="line">  x5-video-player-type=&quot;h5&quot;</span><br><span class="line">  controls</span><br><span class="line">&gt;</span><br><span class="line">  &lt;source src=&quot;../company.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class="line">&lt;/video&gt;</span><br></pre></td></tr></table></figure></p>
<p>这样在Android端视频是会全屏播放的，你要提交表单就要暂停视频，那样就会退出全屏，然后操作表单，<br>视频在暂停的情况下是不会挡住表单的</p>
<p>播放视频<br><img src="/2019/01/31/20190124/4.png" alt="Alt text"><br>退出视频<br><img src="/2019/01/31/20190124/5.png" alt="Alt text"><br>点击表单，发现不会被挡住了<br><img src="/2019/01/31/20190124/6.png" alt="Alt text"></p>
<h3 id="3、上一个问题解决了，但是又有一个问题，就是点开H5进去后，ios显示视频是一片白，Android是一片黑，老板希望视频没播放前显示视频首屏的图片。"><a href="#3、上一个问题解决了，但是又有一个问题，就是点开H5进去后，ios显示视频是一片白，Android是一片黑，老板希望视频没播放前显示视频首屏的图片。" class="headerlink" title="3、上一个问题解决了，但是又有一个问题，就是点开H5进去后，ios显示视频是一片白，Android是一片黑，老板希望视频没播放前显示视频首屏的图片。"></a>3、上一个问题解决了，但是又有一个问题，就是点开H5进去后，ios显示视频是一片白，Android是一片黑，老板希望视频没播放前显示视频首屏的图片。</h3><p>ios<br><img src="/2019/01/31/20190124/7.png" alt="Alt text"><br>Android<br><img src="/2019/01/31/20190124/8.png" alt="Alt text"><br>查了一下网上的解决办法都是用dom解决，有兴趣的朋友可以看一下 <a href="https://blog.csdn.net/qq_40954793/article/details/81135656" target="_blank" rel="noopener">Generating</a><br>我觉得比较麻烦，就去看了一下开发者文档，就发现了一个彩蛋，比上面的方法要简单得多，一行代码解决问题<br>video有poster这个属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">poster </span><br><span class="line">A URL for an image to be shown while the video is downloading.</span><br><span class="line">If this attribute isn&apos;t specified, nothing is displayed until the</span><br><span class="line">first frame is available, then the first frame is shown as the poster</span><br><span class="line">frame.</span><br></pre></td></tr></table></figure></p>
<p><img src="/2019/01/31/20190124/9.png" alt="Alt text"><br>它的例子也有解析<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Until the video starts playing, the image provided in the posterattribute is displayed in its place. If the browser doesn&apos;t support</span><br><span class="line">video playback, the fallback text is displayed.</span><br><span class="line">所以我最后的代码是如下:</span><br><span class="line"></span><br><span class="line">    &lt;video</span><br><span class="line">      class=&quot;video&quot;</span><br><span class="line">      poster=&quot;../assets/video.png&quot;</span><br><span class="line">      playsinline=&quot;true&quot;</span><br><span class="line">      x-webkit-airplay=&quot;true&quot; </span><br><span class="line">      x5-playsinline=&quot;true&quot;</span><br><span class="line">      webkit-playsinline=&quot;true&quot; </span><br><span class="line">      x5-video-player-type=&quot;h5&quot;</span><br><span class="line">      controls</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;source src=&quot;../company.mp4&quot; type=&quot;video/mp4&quot;&gt;</span><br><span class="line">    &lt;/video&gt;</span><br></pre></td></tr></table></figure></p>
<p>ios端完美<br><img src="/2019/01/31/20190124/10.png" alt="Alt text"><br>Android端完美<br><img src="/2019/01/31/20190124/11.png" alt="Alt text"></p>
<h3 id="到此，问题解决了。"><a href="#到此，问题解决了。" class="headerlink" title="到此，问题解决了。"></a>到此，问题解决了。</h3>
</div>

<!-- post-guide -->

    <div class="post-guide">
        <div class="item left">
            
              <a href="../搭建githubPage博客/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  搭建githubPage博客
              </a>
            
        </div>
        <div class="item right">
            
              <a href="../../26/20190126/">
                20190126
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>


<!-- comment - giscus -->


<!-- comment - valine -->


<script>
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©<span id="footerYear-start">2018</span>-<span id="footerYear-end"></span>

	
	    <a href="/">51fan</a>
	
	
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//wujun.me" target="_blank">Wu Jun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>


<script type="text/javascript">
	document.getElementById('footerYear-end').innerHTML = new Date().getFullYear() + '';
</script>

	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>